<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>第一个 Vue 程序</title>
	<script src="./vue2.6.13/dist/vue.js"></script>
	<script src="./axios0.21.1/axios.js"></script>
</head>

<body>
	<div id="app">
		<table border="1" align="center">
			<tr>
				<td>FirstName:</td>
				<td><input v-model.lazy.trim="firstName"></td>
			</tr>
			<tr>
				<td>LastName:</td>
				<td><input v-model.lazy.trim="lastName"></td>
			</tr>
			<tr>
				<td colspan="2" align="center">
					<button v-on:click="searchEmployees">Search</button>
				</td>
			</tr>
			<tr v-for="emp in employees">
				<td>{{ emp.firstName }}</td>
				<td>{{ emp.lastName }}</td>
			</tr>
		</table>
	</div>

	<script>
		var app = new Vue({
			el: '#app',
			data: {
				firstName: '',
				lastName: '',
				employees: [],
			},
			methods: {
				searchEmployees: function () {
					axios.post('/example/testJsonService02',
						JSON.stringify({
							firstName: this.firstName,
							lastName: this.lastName
						}),
						{
							headers: {
								'Content-Type': 'application/json; charset=utf-8'
							}
						}
					).then((response) => {
						console.log(response);
						this.employees = response.data;
					});
				}

			},
			watch: {
				firstName: "searchEmployees",
				lastName: "searchEmployees",
			},
			created: function () {
			},
		});
	</script>
</body>

</html>